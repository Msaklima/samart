<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vico-ভিকো - অনলাইন শপিং</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* Previous CSS styles remain exactly the same */
        /* ... */
    </style>
</head>
<body>
    <!-- Previous HTML structure remains the same until the script section -->
    
    <script>
        // Sample product data
        const products = [
            {
                id: 1,
                name: "প্রিমিয়াম কটন শার্ট",
                price: 750,
                image: "shirt1.jpg",
                category: "shirt",
                rating: 4.5,
                description: "১০০% সুতি কাপড়ের তৈরি এই শার্টটি আপনাবে দেবে অতুলনীয় আরাম।",
                colors: ["নীল", "লাল", "কালো", "হলুদ"],
                sizes: ["S", "M", "L", "XL", "XXL"]
            },
            {
                id: 2,
                name: "ডিজাইনার টি-শার্ট",
                price: 500,
                image: "tshirt.jpg",
                category: "t-shirt",
                rating: 4.2,
                description: "ট্রেন্ডি ডিজাইনের সাথে আরামদায়ক টি-শার্ট।",
                colors: ["সাদা", "কালো", "ধূসর"],
                sizes: ["S", "M", "L", "XL"]
            },
            {
                id: 3,
                name: "ফরমাল প্যান্ট",
                price: 900,
                image: "pants.jpg",
                category: "pant",
                rating: 4.7,
                description: "অফিস বা ফরমাল অনুষ্ঠানের জন্য পারফেক্ট প্যান্ট।",
                colors: ["কালো", "নেভি ব্লু", "ধূসর"],
                sizes: ["28", "30", "32", "34", "36"]
            },
            {
                id: 4,
                name: "স্পোর্টস জুতা",
                price: 1200,
                image: "shoes.jpg",
                category: "shoes",
                rating: 4.8,
                description: "স্পোর্টস এবং দৈনন্দিন ব্যবহারের জন্য আরামদায়ক জুতা।",
                colors: ["নীল", "কালো", "সাদা"],
                sizes: ["38", "39", "40", "41", "42", "43"]
            },
            {
                id: 5,
                name: "লেদার বেল্ট",
                price: 400,
                image: "belt.jpg",
                category: "accessories",
                rating: 4.3,
                description: "প্রিমিয়াম কোয়ালিটির লেদার বেল্ট।",
                colors: ["কালো", "বাদামী"],
                sizes: ["সাধারণ", "বড়"]
            },
            {
                id: 6,
                name: "ক্যাপ",
                price: 300,
                image: "cap.jpg",
                category: "accessories",
                rating: 4.0,
                description: "স্ট্রিট স্টাইলের জন্য ট্রেন্ডি ক্যাপ।",
                colors: ["কালো", "নেভি", "খাকি"],
                sizes: ["এক সাইজ"]
            }
        ];
        
        let cart = [];
        let currentProduct = null;
        
        // Initialize the shop when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initShop();
            
            // Set up payment method change listener
            document.getElementById('payment-method').addEventListener('change', function() {
                updatePaymentDetails();
            });
        });
        
        // Initialize the shop
        function initShop() {
            displayProducts(products);
            updateCartCount();
        }
        
        // Display products on the shop page
        function displayProducts(productsToShow) {
            const productsContainer = document.getElementById('products-container');
            productsContainer.innerHTML = '';
            
            productsToShow.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    ${product.category === 'shirt' ? '<div class="product-badge">নতুন</div>' : ''}
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}" onclick="showProductDetails(${product.id})">
                    </div>
                    <div class="product-info">
                        <h3 onclick="showProductDetails(${product.id})">${product.name}</h3>
                        <div class="price">৳${product.price}</div>
                        <div class="rating">
                            ${getRatingStars(product.rating)}
                            <span>(${Math.floor(Math.random() * 100 + 50)} রিভিউ)</span>
                        </div>
                        <button class="btn" onclick="addToCart(${product.id}, event)">কার্টে যোগ করুন</button>
                    </div>
                `;
                productsContainer.appendChild(productCard);
            });
        }
        
        // Filter products by category
        function filterProducts(category) {
            const navItems = document.querySelectorAll('.nav span');
            navItems.forEach(item => item.classList.remove('active'));
            event.target.classList.add('active');
            
            if (category === 'all') {
                displayProducts(products);
            } else {
                const filteredProducts = products.filter(product => product.category === category);
                displayProducts(filteredProducts);
            }
        }
        
        // Show product details page
        function showProductDetails(productId) {
            currentProduct = products.find(p => p.id === productId);
            
            document.getElementById('main-shop').style.display = 'none';
            document.getElementById('product-details-page').style.display = 'block';
            
            // Set product details
            document.getElementById('detail-product-name').textContent = currentProduct.name;
            document.getElementById('detail-product-price').textContent = `৳${currentProduct.price}`;
            document.getElementById('main-product-image').src = currentProduct.image;
            document.getElementById('product-quantity').value = 1;
            
            // Update description
            const descriptionElement = document.querySelector('.product-description p');
            descriptionElement.textContent = currentProduct.description;
            
            // Update size options
            const sizeOptions = document.querySelector('.size-options');
            sizeOptions.innerHTML = '';
            currentProduct.sizes.forEach((size, index) => {
                const sizeOption = document.createElement('div');
                sizeOption.className = `size-option ${index === 1 ? 'selected' : ''}`;
                sizeOption.textContent = size;
                sizeOption.onclick = function() { selectSize(this); };
                sizeOptions.appendChild(sizeOption);
            });
            
            // Update color options
            const colorOptions = document.querySelector('.color-options');
            colorOptions.innerHTML = '';
            currentProduct.colors.forEach((color, index) => {
                const colorOption = document.createElement('div');
                colorOption.className = `color-option ${index === 0 ? 'selected' : ''}`;
                colorOption.style.backgroundColor = getColorCode(color);
                colorOption.setAttribute('data-color', color);
                colorOption.onclick = function() { selectColor(this, color); };
                colorOptions.appendChild(colorOption);
            });
        }
        
        // Helper function to get color code
        function getColorCode(color) {
            const colors = {
                'নীল': '#3498db',
                'লাল': '#e74c3c',
                'কালো': '#2c3e50',
                'হলুদ': '#f1c40f',
                'সাদা': '#ffffff',
                'ধূসর': '#95a5a6',
                'নেভি ব্লু': '#34495e',
                'বাদামী': '#8b4513',
                'নেভি': '#2c3e50',
                'খাকি': '#f0e68c'
            };
            return colors[color] || '#cccccc';
        }
        
        // Back to shop from product details
        function backToShop() {
            document.getElementById('product-details-page').style.display = 'none';
            document.getElementById('main-shop').style.display = 'block';
        }
        
        // Change main product image when thumbnail is clicked
        function changeMainImage(imageSrc) {
            document.getElementById('main-product-image').src = imageSrc;
            
            // Update active thumbnail
            const thumbnails = document.querySelectorAll('.thumbnail');
            thumbnails.forEach(thumb => thumb.classList.remove('active'));
            event.target.closest('.thumbnail').classList.add('active');
        }
        
        // Select size option
        function selectSize(element) {
            const sizes = document.querySelectorAll('.size-option');
            sizes.forEach(size => size.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        // Select color option
        function selectColor(element, color) {
            const colors = document.querySelectorAll('.color-option');
            colors.forEach(c => c.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        // Change product quantity
        function changeQuantity(change) {
            const quantityInput = document.getElementById('product-quantity');
            let newValue = parseInt(quantityInput.value) + change;
            if (newValue < 1) newValue = 1;
            quantityInput.value = newValue;
        }
        
        // Add to cart from product details
        function addToCartFromDetails() {
            if (!currentProduct) return;
            
            const quantity = parseInt(document.getElementById('product-quantity').value);
            const selectedSize = document.querySelector('.size-option.selected').textContent;
            const selectedColor = document.querySelector('.color-option.selected').getAttribute('data-color');
            
            addToCart(currentProduct.id, null, quantity, selectedSize, selectedColor);
        }
        
        // Add to cart from product card
        function addToCart(productId, event, quantity = 1, size = 'M', color = 'নীল') {
            if (event) event.stopPropagation();
            
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const existingItem = cart.find(item => item.id === productId && item.size === size && item.color === color);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: productId,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: quantity,
                    size: size,
                    color: color
                });
            }
            
            updateCartCount();
            showCartNotification(`${product.name} কার্টে যোগ করা হয়েছে`);
        }
        
        // Buy now function
        function buyNow() {
            addToCartFromDetails();
            checkout();
        }
        
        // Toggle cart visibility
        function toggleCart() {
            const cartSummary = document.getElementById('cart-summary');
            cartSummary.classList.toggle('show');
            
            if (cartSummary.classList.contains('show')) {
                updateCartDisplay();
            }
        }
        
        // Update cart display
        function updateCartDisplay() {
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<li>আপনার কার্ট খালি</li>';
                document.getElementById('cart-total').textContent = 'মোট: ৳0';
                return;
            }
            
            let total = 0;
            
            cart.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <img src="${item.image}" width="40" height="40" style="object-fit: cover; border-radius: 5px;">
                    <span style="flex-grow: 1; margin: 0 10px;">
                        ${item.name} (${item.size}, ${item.color})<br>
                        <small>${item.quantity} x ৳${item.price}</small>
                    </span>
                    <span>৳${item.price * item.quantity}</span>
                    <i class="fas fa-times remove-item" onclick="removeCartItem(${item.id}, '${item.size}', '${item.color}')"></i>
                `;
                cartItems.appendChild(li);
                total += item.price * item.quantity;
            });
            
            document.getElementById('cart-total').textContent = `মোট: ৳${total}`;
        }
        
        // Remove item from cart
        function removeCartItem(productId, size, color) {
            cart = cart.filter(item => !(item.id === productId && item.size === size && item.color === color));
            updateCartDisplay();
            updateCartCount();
        }
        
        // Update cart count in header
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            document.querySelector('.cart-count').textContent = count;
        }
        
        // Show cart notification
        function showCartNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'cart-notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // Checkout function
        function checkout() {
            if (cart.length === 0) {
                alert('আপনার কার্ট খালি, চেকআউট করতে পণ্য যোগ করুন');
                return;
            }
            
            toggleCart();
            showModal('checkout-modal');
        }
        
        // Confirm payment
        function confirmPayment() {
            const name = document.getElementById('customer-name').value;
            const address = document.getElementById('customer-address').value;
            const phone = document.getElementById('customer-phone').value;
            const paymentMethod = document.getElementById('payment-method').value;
            const transactionId = document.getElementById('transaction-id').value;
            
            if (!name || !address || !phone) {
                alert('দয়া করে সমস্ত তথ্য প্রদান করুন');
                return;
            }
            
            if (paymentMethod !== 'card' && !transactionId) {
                alert('দয়া করে ট্রানজাকশন আইডি প্রদান করুন');
                return;
            }
            
            // In a real app, you would send this data to your server
            alert(`অর্ডার সফলভাবে সম্পন্ন হয়েছে! অর্ডার আইডি: ${Math.floor(Math.random() * 1000000)}`);
            
            // Reset cart
            cart = [];
            updateCartCount();
            updateCartDisplay();
            closeModal('checkout-modal');
        }
        
        // Update payment details based on selected method
        function updatePaymentDetails() {
            const paymentMethod = document.getElementById('payment-method').value;
            const paymentDetails = document.getElementById('payment-details');
            
            if (paymentMethod === 'card') {
                paymentDetails.innerHTML = `
                    <label for="card-number">কার্ড নম্বর</label>
                    <input type="text" id="card-number" placeholder="কার্ড নম্বর দিন">
                    
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                        <div style="flex: 1;">
                            <label for="expiry-date">মেয়াদ শেষ</label>
                            <input type="text" id="expiry-date" placeholder="MM/YY">
                        </div>
                        <div style="flex: 1;">
                            <label for="cvv">CVV</label>
                            <input type="text" id="cvv" placeholder="CVV">
                        </div>
                    </div>
                `;
            } else {
                paymentDetails.innerHTML = `
                    <label for="transaction-id">ট্রানজাকশন আইডি</label>
                    <input type="text" id="transaction-id" placeholder="ট্রানজাকশন আইডি দিন">
                    <small style="display: block; margin-top: 5px; color: #7f8c8d;">
                        ${paymentMethod === 'bkash' ? 'বিকাশ মার্চেন্ট: 01712345678' : 
                          paymentMethod === 'nagad' ? 'নগদ মার্চেন্ট: 01812345678' : 
                          'রকেট মার্চেন্ট: 01912345678'}
                    </small>
                `;
            }
        }
        
        // Show order track modal
        function showOrderTrack() {
            showModal('order-track-modal');
        }
        
        // Track order function
        function trackOrder() {
            const orderId = document.getElementById('order-id').value;
            const phoneNumber = document.getElementById('phone-number').value;
            
            if (!orderId || !phoneNumber) {
                alert('দয়া করে অর্ডার আইডি এবং ফোন নম্বর প্রদান করুন');
                return;
            }
            
            // In a real app, you would check with your server
            alert(`অর্ডার #${orderId} এর অবস্থা: ডেলিভারি প্রক্রিয়াধীন`);
            closeModal('order-track-modal');
        }
        
        // Show customer service modal
        function showCustomerService() {
            showModal('customer-service-modal');
        }
        
        // Submit contact form
        function submitContactForm() {
            const name = document.getElementById('contact-name').value;
            const phone = document.getElementById('contact-phone').value;
            const message = document.getElementById('contact-message').value;
            
            if (!name || !phone || !message) {
                alert('দয়া করে সমস্ত তথ্য প্রদান করুন');
                return;
            }
            
            // In a real app, you would send this to your server
            alert('আপনার বার্তা সফলভাবে পাঠানো হয়েছে! আমরা শীঘ্রই আপনার সাথে যোগাযোগ করব।');
            closeModal('customer-service-modal');
            
            // Reset form
            document.getElementById('contact-name').value = '';
            document.getElementById('contact-phone').value = '';
            document.getElementById('contact-message').value = '';
        }
        
        // Show modal
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('show');
        }
        
        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }
        
        // Helper function to get rating stars
        function getRatingStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            let stars = '';
            
            for (let i = 1; i <= 5; i++) {
                if (i <= fullStars) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === fullStars + 1 && hasHalfStar) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            
            return stars;
        }
    </script>
</body>
</html>
